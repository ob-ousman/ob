<div class="flexbox-parent">
    <div layout="row" layout-align="center center" style="height: 100vh">

        <h1>SNS Work Time Calculator</h1>
        <p>
            Cet algorithe calcule les jours de travail de la meilleure SF au monde
        </p>

        <p>SÃ©lectonnez une date dans le champ ci-dessous</p>

        <form [formGroup]="myForm">
            <mat-form-field appearance="outline">
                <input matInput [matDatepicker]="picker" placeholder="Selectionner une date" (dateChange)="calculate()"
                    formControlName="selectedDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker [startAt]="startDate"></mat-datepicker>
            </mat-form-field>
        </form>

        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="di">
                <th mat-header-cell *matHeaderCellDef> Di </th>
                <td mat-cell *matCellDef="let week" [ngClass]="week.dim.color" > {{week.dim.date}} </td>
            </ng-container>

            <ng-container matColumnDef="lu">
                <th mat-header-cell *matHeaderCellDef> Lu </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.lun.color" > {{week.lun.date}} </td>
            </ng-container>

            <ng-container matColumnDef="ma">
                <th mat-header-cell *matHeaderCellDef> Ma </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.mar.color" > {{week.mar.date}} </td>
            </ng-container>

            <ng-container matColumnDef="me">
                <th mat-header-cell *matHeaderCellDef> Me </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.mer.color" > {{week.mer.date}} </td>
            </ng-container>

            <ng-container matColumnDef="je">
                <th mat-header-cell *matHeaderCellDef> Je </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.jeu.color" > {{week.jeu.date}} </td>
            </ng-container>

            <ng-container matColumnDef="ve">
                <th mat-header-cell *matHeaderCellDef> Ve </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.ven.color" > {{week.ven.date}} </td>
            </ng-container>

            <ng-container matColumnDef="sa">
                <th mat-header-cell *matHeaderCellDef> Sa </th>
                <td mat-cell *matCellDef="let week" class="{{week.sam.color}}"> {{week.sam.date}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let emprow; columns: displayedColumns"></tr>
        </table>

        <br>
        <hr>
        <table class="legend" *ngIf="showLegend">
            <tr><td [width]="20" class="green_color col "></td><td>Matin</td></tr>
            <tr><td [width]="10" class="yellow_color col"></td><td>Soir</td></tr>
            <tr><td [width]="10" class="col"></td><td>Jour de repos</td></tr>
        </table>

    </div>
</div>