<div class="flexbox-parent">
    <div layout="row" layout-align="center center" style="height: 100vh">

        <h1>SNS Work Time Calculator</h1>
        <p>
            Cet algorithe calcule le calendrier de travail de la meilleure SF au monde
        </p>

        <p>Sélectonnez une date dans le champ ci-dessous</p>

        <form [formGroup]="myForm">
            <mat-form-field appearance="outline">
                <input matInput [matDatepicker]="picker" placeholder="Selectionner une date" (dateChange)="onDateChanged()"
                    formControlName="selectedDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker [startAt]="startDate"></mat-datepicker>
            </mat-form-field>
        </form>

        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="di">
                <th mat-header-cell *matHeaderCellDef> Di </th>
                <td mat-cell *matCellDef="let week" [ngClass]="week.dim.color" ><span class="{{week.dim.circle}}">{{week.dim.date}}</span> </td>
            </ng-container>

            <ng-container matColumnDef="lu">
                <th mat-header-cell *matHeaderCellDef> Lu </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.lun.color" ><span class="{{week.lun.circle}}">{{week.lun.date}}</span> </td>
            </ng-container>

            <ng-container matColumnDef="ma">
                <th mat-header-cell *matHeaderCellDef> Ma </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.mar.color" ><span class="{{week.mar.circle}}">{{week.mar.date}}</span> </td>
            </ng-container>

            <ng-container matColumnDef="me">
                <th mat-header-cell *matHeaderCellDef> Me </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.mer.color" ><span class="{{week.mer.circle}}">{{week.mer.date}}</span> </td>
            </ng-container>

            <ng-container matColumnDef="je">
                <th mat-header-cell *matHeaderCellDef> Je </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.jeu.color" ><span class="{{week.jeu.circle}}">{{week.jeu.date}}</span> </td>
            </ng-container>

            <ng-container matColumnDef="ve">
                <th mat-header-cell *matHeaderCellDef> Ve </th>
                <td mat-cell *matCellDef="let week"[ngClass]="week.ven.color" ><span class="{{week.ven.circle}}">{{week.ven.date}}</span> </td>
            </ng-container>

            <ng-container matColumnDef="sa">
                <th mat-header-cell *matHeaderCellDef> Sa </th>
                <td mat-cell *matCellDef="let week" class="{{week.sam.color}}"><span class="{{week.sam.circle}}">{{week.sam.date}}</span> </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let emprow; columns: displayedColumns"></tr>
        </table>

        <br>
        <hr>
        <table class="legend" *ngIf="showLegend">
            <tr><td [width]="20" class="green_color col "></td><td>Matinée</td></tr>
            <tr><td [width]="10" class="yellow_color col"></td><td>Garde</td></tr>
            <tr><td [width]="10" class="white_color col"></td><td>Repos</td></tr>
        </table>

        <br><br>
        <details>
            <summary>This algorthm use default values for SNS, click to change </summary>
            Asuming you have 4 days off, select the date corresponding to the first day of your last days off. THE DATE SHOULD BE EARLIER
        <form [formGroup]="paramForm">
            <mat-form-field appearance="outline">
                <input matInput [matDatepicker]="picker2" placeholder="Your first day of rest" (dateChange)="onDateParamChange()"
                    formControlName="paramDate">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2 [startAt]="startDate"></mat-datepicker>
            </mat-form-field>
        </form>
        </details>
    </div>
</div>